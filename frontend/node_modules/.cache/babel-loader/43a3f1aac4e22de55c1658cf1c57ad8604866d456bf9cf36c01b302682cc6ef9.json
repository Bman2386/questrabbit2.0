{"ast":null,"code":"import csrfFetch from './csrf';\nconst RECEIVE_CATEGORIES = 'categories/receiveCategories';\nconst RECEIVE_CATEGORY = 'categories/receiveCategory';\nconst receiveCategories = data => ({\n  type: RECEIVE_CATEGORIES,\n  categories: data\n});\nconst receiveCategory = categoryId => ({\n  type: RECEIVE_CATEGORY,\n  payload: categoryId\n});\nexport const fetchCategories = () => async dispatch => {\n  const response = await csrfFetch(\"api/categories\");\n  if (response.ok) {\n    const data = await response.json();\n    dispatch(receiveCategories(data));\n  } else {\n    console.log('error: unable to fetch categories');\n  }\n  ;\n};\nexport const fetchCategory = categoryId => async dispatch => {\n  const response = await csrfFetch(`api/categories/${categoryId}`);\n  if (response.ok) {\n    const data = await response.json();\n    dispatch(receiveCategory(data));\n  } else {\n    console.log('error: unable to fetch category');\n  }\n  ;\n};\nconst initialState = {};\nconst categoriesReducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n  switch (action.type) {\n    case RECEIVE_CATEGORIES:\n      const categories = {};\n      action.categories.forEach(category => {\n        categories[category.id] = category;\n      });\n      return categories;\n    case RECEIVE_CATEGORY:\n      return Object.assign({}, {\n        [action.category]: action.category\n      });\n    default:\n      return state;\n  }\n  ;\n};\nexport default categoriesReducer;","map":{"version":3,"names":["csrfFetch","RECEIVE_CATEGORIES","RECEIVE_CATEGORY","receiveCategories","data","type","categories","receiveCategory","categoryId","payload","fetchCategories","dispatch","response","ok","json","console","log","fetchCategory","initialState","categoriesReducer","state","action","forEach","category","id","Object","assign"],"sources":["/mnt/c/Users/brend/Desktop/questrabbit2.0/frontend/src/store/category.js"],"sourcesContent":["import csrfFetch from './csrf';\r\n\r\nconst RECEIVE_CATEGORIES = 'categories/receiveCategories';\r\nconst RECEIVE_CATEGORY = 'categories/receiveCategory';\r\n\r\nconst receiveCategories = (data) => ({\r\n    type: RECEIVE_CATEGORIES,\r\n    categories: data\r\n});\r\n\r\nconst receiveCategory = categoryId => ({\r\n    type: RECEIVE_CATEGORY,\r\n    payload: categoryId\r\n});\r\n\r\nexport const fetchCategories = () => async dispatch => {\r\n    const response = await csrfFetch(\"api/categories\");\r\n    if (response.ok){\r\n        const data = await response.json();\r\n        dispatch(receiveCategories(data));\r\n    } else {\r\n        console.log('error: unable to fetch categories');\r\n    };\r\n};\r\n\r\nexport const fetchCategory = (categoryId) => async dispatch => {\r\n    const response = await csrfFetch(`api/categories/${categoryId}`);\r\n    if (response.ok) {\r\n        const data = await response.json();\r\n        dispatch(receiveCategory(data));\r\n    } else {\r\n        console.log('error: unable to fetch category');\r\n    };\r\n}\r\n\r\nconst initialState = {};\r\n\r\nconst categoriesReducer = (state=initialState, action) => {\r\n    switch(action.type){\r\n        case RECEIVE_CATEGORIES:\r\n            const categories = {};\r\n            action.categories.forEach(category => {\r\n                categories[category.id] = category;\r\n            });\r\n            return categories\r\n        case RECEIVE_CATEGORY:\r\n            return Object.assign({}, { [action.category]: action.category });\r\n        default:\r\n            return state;\r\n    };\r\n};\r\n\r\nexport default categoriesReducer;"],"mappings":"AAAA,OAAOA,SAAS,MAAM,QAAQ;AAE9B,MAAMC,kBAAkB,GAAG,8BAA8B;AACzD,MAAMC,gBAAgB,GAAG,4BAA4B;AAErD,MAAMC,iBAAiB,GAAIC,IAAI,KAAM;EACjCC,IAAI,EAAEJ,kBAAkB;EACxBK,UAAU,EAAEF;AAChB,CAAC,CAAC;AAEF,MAAMG,eAAe,GAAGC,UAAU,KAAK;EACnCH,IAAI,EAAEH,gBAAgB;EACtBO,OAAO,EAAED;AACb,CAAC,CAAC;AAEF,OAAO,MAAME,eAAe,GAAG,MAAM,MAAMC,QAAQ,IAAI;EACnD,MAAMC,QAAQ,GAAG,MAAMZ,SAAS,CAAC,gBAAgB,CAAC;EAClD,IAAIY,QAAQ,CAACC,EAAE,EAAC;IACZ,MAAMT,IAAI,GAAG,MAAMQ,QAAQ,CAACE,IAAI,EAAE;IAClCH,QAAQ,CAACR,iBAAiB,CAACC,IAAI,CAAC,CAAC;EACrC,CAAC,MAAM;IACHW,OAAO,CAACC,GAAG,CAAC,mCAAmC,CAAC;EACpD;EAAC;AACL,CAAC;AAED,OAAO,MAAMC,aAAa,GAAIT,UAAU,IAAK,MAAMG,QAAQ,IAAI;EAC3D,MAAMC,QAAQ,GAAG,MAAMZ,SAAS,CAAE,kBAAiBQ,UAAW,EAAC,CAAC;EAChE,IAAII,QAAQ,CAACC,EAAE,EAAE;IACb,MAAMT,IAAI,GAAG,MAAMQ,QAAQ,CAACE,IAAI,EAAE;IAClCH,QAAQ,CAACJ,eAAe,CAACH,IAAI,CAAC,CAAC;EACnC,CAAC,MAAM;IACHW,OAAO,CAACC,GAAG,CAAC,iCAAiC,CAAC;EAClD;EAAC;AACL,CAAC;AAED,MAAME,YAAY,GAAG,CAAC,CAAC;AAEvB,MAAMC,iBAAiB,GAAG,YAAgC;EAAA,IAA/BC,KAAK,uEAACF,YAAY;EAAA,IAAEG,MAAM;EACjD,QAAOA,MAAM,CAAChB,IAAI;IACd,KAAKJ,kBAAkB;MACnB,MAAMK,UAAU,GAAG,CAAC,CAAC;MACrBe,MAAM,CAACf,UAAU,CAACgB,OAAO,CAACC,QAAQ,IAAI;QAClCjB,UAAU,CAACiB,QAAQ,CAACC,EAAE,CAAC,GAAGD,QAAQ;MACtC,CAAC,CAAC;MACF,OAAOjB,UAAU;IACrB,KAAKJ,gBAAgB;MACjB,OAAOuB,MAAM,CAACC,MAAM,CAAC,CAAC,CAAC,EAAE;QAAE,CAACL,MAAM,CAACE,QAAQ,GAAGF,MAAM,CAACE;MAAS,CAAC,CAAC;IACpE;MACI,OAAOH,KAAK;EAAC;EACpB;AACL,CAAC;AAED,eAAeD,iBAAiB"},"metadata":{},"sourceType":"module","externalDependencies":[]}